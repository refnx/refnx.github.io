
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>refnx.util package &#8212; refnx 0.0.13.dev0+ documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.13.dev0+',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="refnx-util-package">
<h1>refnx.util package<a class="headerlink" href="#refnx-util-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-refnx.util.ErrorProp">
<span id="refnx-util-errorprop-module"></span><h2>refnx.util.ErrorProp module<a class="headerlink" href="#module-refnx.util.ErrorProp" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="refnx.util.ErrorProp.EPadd">
<code class="descclassname">refnx.util.ErrorProp.</code><code class="descname">EPadd</code><span class="sig-paren">(</span><em>a</em>, <em>da</em>, <em>b</em>, <em>db</em>, <em>covar=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPadd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.ErrorProp.EPadd" title="Permalink to this definition">¶</a></dt>
<dd><p>C = A + B</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.ErrorProp.EPcos">
<code class="descclassname">refnx.util.ErrorProp.</code><code class="descname">EPcos</code><span class="sig-paren">(</span><em>a</em>, <em>da</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPcos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.ErrorProp.EPcos" title="Permalink to this definition">¶</a></dt>
<dd><p>C = cos (A)</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.ErrorProp.EPdiv">
<code class="descclassname">refnx.util.ErrorProp.</code><code class="descname">EPdiv</code><span class="sig-paren">(</span><em>a</em>, <em>da</em>, <em>b</em>, <em>db</em>, <em>covar=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPdiv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.ErrorProp.EPdiv" title="Permalink to this definition">¶</a></dt>
<dd><p>C = A / B</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.ErrorProp.EPexp">
<code class="descclassname">refnx.util.ErrorProp.</code><code class="descname">EPexp</code><span class="sig-paren">(</span><em>a</em>, <em>da</em>, <em>k=1</em>, <em>n=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPexp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.ErrorProp.EPexp" title="Permalink to this definition">¶</a></dt>
<dd><p>C = n * exp(k * A)</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.ErrorProp.EPlog">
<code class="descclassname">refnx.util.ErrorProp.</code><code class="descname">EPlog</code><span class="sig-paren">(</span><em>a</em>, <em>da</em>, <em>k=1</em>, <em>n=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPlog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.ErrorProp.EPlog" title="Permalink to this definition">¶</a></dt>
<dd><p>C = n * log(k * A )</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.ErrorProp.EPlog10">
<code class="descclassname">refnx.util.ErrorProp.</code><code class="descname">EPlog10</code><span class="sig-paren">(</span><em>a</em>, <em>da</em>, <em>k=1</em>, <em>n=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPlog10"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.ErrorProp.EPlog10" title="Permalink to this definition">¶</a></dt>
<dd><p>C = n * log10(k * A)</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.ErrorProp.EPmul">
<code class="descclassname">refnx.util.ErrorProp.</code><code class="descname">EPmul</code><span class="sig-paren">(</span><em>a</em>, <em>da</em>, <em>b</em>, <em>db</em>, <em>covar=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPmul"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.ErrorProp.EPmul" title="Permalink to this definition">¶</a></dt>
<dd><p>C = A * B</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.ErrorProp.EPmulk">
<code class="descclassname">refnx.util.ErrorProp.</code><code class="descname">EPmulk</code><span class="sig-paren">(</span><em>a</em>, <em>da</em>, <em>k</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPmulk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.ErrorProp.EPmulk" title="Permalink to this definition">¶</a></dt>
<dd><p>C = A * k</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.ErrorProp.EPpow">
<code class="descclassname">refnx.util.ErrorProp.</code><code class="descname">EPpow</code><span class="sig-paren">(</span><em>a</em>, <em>da</em>, <em>b</em>, <em>db</em>, <em>covar=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPpow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.ErrorProp.EPpow" title="Permalink to this definition">¶</a></dt>
<dd><p>C = A ** B</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.ErrorProp.EPpowk">
<code class="descclassname">refnx.util.ErrorProp.</code><code class="descname">EPpowk</code><span class="sig-paren">(</span><em>a</em>, <em>da</em>, <em>k</em>, <em>n=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPpowk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.ErrorProp.EPpowk" title="Permalink to this definition">¶</a></dt>
<dd><p>C = pow(k, A * n)</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.ErrorProp.EPsin">
<code class="descclassname">refnx.util.ErrorProp.</code><code class="descname">EPsin</code><span class="sig-paren">(</span><em>a</em>, <em>da</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPsin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.ErrorProp.EPsin" title="Permalink to this definition">¶</a></dt>
<dd><p>C = sin (A)</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.ErrorProp.EPsub">
<code class="descclassname">refnx.util.ErrorProp.</code><code class="descname">EPsub</code><span class="sig-paren">(</span><em>a</em>, <em>da</em>, <em>b</em>, <em>db</em>, <em>covar=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPsub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.ErrorProp.EPsub" title="Permalink to this definition">¶</a></dt>
<dd><p>C = A - B</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.ErrorProp.EPtan">
<code class="descclassname">refnx.util.ErrorProp.</code><code class="descname">EPtan</code><span class="sig-paren">(</span><em>a</em>, <em>da</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPtan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.ErrorProp.EPtan" title="Permalink to this definition">¶</a></dt>
<dd><p>C = tan (A)</p>
</dd></dl>

</div>
<div class="section" id="module-refnx.util.general">
<span id="refnx-util-general-module"></span><h2>refnx.util.general module<a class="headerlink" href="#module-refnx.util.general" title="Permalink to this headline">¶</a></h2>
<p>Functions for various calculations related to reflectometry</p>
<dl class="function">
<dt id="refnx.util.general.actual_footprint">
<code class="descclassname">refnx.util.general.</code><code class="descname">actual_footprint</code><span class="sig-paren">(</span><em>d1</em>, <em>d2</em>, <em>L12</em>, <em>L2S</em>, <em>angle</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#actual_footprint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.general.actual_footprint" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the actual footprint on a reflectivity sample.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>d1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – opening of first collimation slit</li>
<li><strong>d2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – opening of second collimation slit</li>
<li><strong>L12</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – distance between first and second collimation slits</li>
<li><strong>L2S</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – distance from second collimation slit to sample</li>
<li><strong>angle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – angle of incidence of sample (degrees)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>(umbra_footprint, penumbra_footprint)</strong> – Footprint of the umbra and penumbra</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.general.angle">
<code class="descclassname">refnx.util.general.</code><code class="descname">angle</code><span class="sig-paren">(</span><em>q</em>, <em>wavelength</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#angle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.general.angle" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate angle given Q and wavelength</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>q</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Wavevector (A**-1)</li>
<li><strong>wavelength</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Wavelength of radiation (A)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>angle</strong> – angle of incidence (degrees)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.general.beamfrac">
<code class="descclassname">refnx.util.general.</code><code class="descname">beamfrac</code><span class="sig-paren">(</span><em>FWHM</em>, <em>length</em>, <em>angle</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#beamfrac"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.general.beamfrac" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the beam fraction intercepted by a sample.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>FWHM</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The FWHM of the beam height</li>
<li><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Length of the sample in mm</li>
<li><strong>angle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Angle that the sample makes w.r.t the beam (degrees)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>beamfrac</strong> – The fraction of the beam that intercepts the sample</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.general.beamfrackernel">
<code class="descclassname">refnx.util.general.</code><code class="descname">beamfrackernel</code><span class="sig-paren">(</span><em>kernelx</em>, <em>kernely</em>, <em>length</em>, <em>angle</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#beamfrackernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.general.beamfrackernel" title="Permalink to this definition">¶</a></dt>
<dd><p>The beam fraction intercepted by a sample, used for calculating footprints.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>kernelx</strong> (<em>array-like</em>) – x axis for the probability kernel</li>
<li><strong>kernely</strong> (<em>array-like</em>) – probability kernel describing the intensity distribution of the beam</li>
<li><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – length of the sample</li>
<li><strong>angle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – angle of incidence (degrees)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fraction</strong> – The fraction of the beam intercepted by a sample.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.general.div">
<code class="descclassname">refnx.util.general.</code><code class="descname">div</code><span class="sig-paren">(</span><em>d1</em>, <em>d2</em>, <em>L12=2859</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#div"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.general.div" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the angular resolution for a set of collimation conditions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>d1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – slit 1 opening</li>
<li><strong>d2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – slit 2 opening</li>
<li><strong>L12</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – distance between slits</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>dtheta, alpha, beta</em> – dtheta is the FWHM of the Gaussian approximation to the trapezoidal
resolution function
alpha is the angular divergence of the penumbra
beta is the angular divergence of the umbra</li>
<li><em>When calculating dtheta / theta values for resolution, then dtheta is the</em></li>
<li><em>value you need to use.</em></li>
<li><em>See equations 11-14 in [1]_.</em></li>
<li><em>.. [1] de Haan, V.-O.; de Blois, J.; van der Ende, P.; Fredrikze, H.;</em></li>
<li><em>van der Graaf, A.; Schipper, M.; van Well, A. A. &amp; J., v. d. Z. ROG, the</em></li>
<li><em>neutron reflectometer at IRI Delft Nuclear Instruments and Methods in</em></li>
<li><em>Physics Research A, 1995, 362, 434-453</em></li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.general.double_chopper_frequency">
<code class="descclassname">refnx.util.general.</code><code class="descname">double_chopper_frequency</code><span class="sig-paren">(</span><em>min_wavelength</em>, <em>max_wavelength</em>, <em>L</em>, <em>N=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#double_chopper_frequency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.general.double_chopper_frequency" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the maximum frequency available for a given wavelength band
without getting frame overlap in a chopper spectrometer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>min_wavelength</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – minimum wavelength to be used</li>
<li><strong>max_wavelength</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – maximum wavelength to be used</li>
<li><strong>L</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Flight length of instrument (m)</li>
<li><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – number of windows in chopper pair</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>max_freq</strong> – The maximum frequency a double chopper system can use to avoid frame
overlap.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.general.energy_wavelength">
<code class="descclassname">refnx.util.general.</code><code class="descname">energy_wavelength</code><span class="sig-paren">(</span><em>energy</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#energy_wavelength"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.general.energy_wavelength" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts wavelength to energy in meV</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>energy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Energy in meV.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>wavelength</strong> – Wavelength in Angstrom.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.general.height_of_beam_after_dx">
<code class="descclassname">refnx.util.general.</code><code class="descname">height_of_beam_after_dx</code><span class="sig-paren">(</span><em>d1</em>, <em>d2</em>, <em>L12</em>, <em>distance</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#height_of_beam_after_dx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.general.height_of_beam_after_dx" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the widths of beam a given distance away from a collimation slit.</p>
<p>if distance &gt;= 0, then it’s taken to be the distance after d2.
if distance &lt; 0, then it’s taken to be the distance before d1.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>d1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – opening of first collimation slit</li>
<li><strong>d2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – opening of second collimation slit</li>
<li><strong>L12</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – distance between first and second collimation slits</li>
<li><strong>distance</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – distance from first or last slit to a given position</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Units - equivalent distances (inches, mm, light years)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>(umbra, penumbra)</strong> – height of umbra and penumbra</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.general.penetration_depth">
<code class="descclassname">refnx.util.general.</code><code class="descname">penetration_depth</code><span class="sig-paren">(</span><em>qq</em>, <em>rho</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#penetration_depth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.general.penetration_depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the penetration depth of a neutron/xray beam</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>qq</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Q values to calculate the penetration depth at</li>
<li><strong>rho</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.6)"><em>complex</em></a>) – Complex SLD of material</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>penetration_depth</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.general.q">
<code class="descclassname">refnx.util.general.</code><code class="descname">q</code><span class="sig-paren">(</span><em>angle</em>, <em>wavelength</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#q"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.general.q" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate Q given angle of incidence and wavelength</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>angle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – angle of incidence (degrees)</li>
<li><strong>wavelength</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – wavelength of radiation (Angstrom)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>Q</strong> – Momentum transfer (A**-1)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.general.q2">
<code class="descclassname">refnx.util.general.</code><code class="descname">q2</code><span class="sig-paren">(</span><em>omega</em>, <em>twotheta</em>, <em>phi</em>, <em>wavelength</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#q2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.general.q2" title="Permalink to this definition">¶</a></dt>
<dd><p>convert angles and wavelength (lambda) to Q vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>omega</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – angle of incidence of beam (in xy plane)</li>
<li><strong>twotheta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – angle between direct beam and projected reflected beam onto yz plane</li>
<li><strong>phi</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – angle between reflected beam and yz plane.</li>
<li><strong>wavelength</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>Qx, Qy, Qz</strong> – Momentum transfer in A**-1.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>coordinate system:
y - along beam direction (in small angle approximation)
x - transverse to beam direction, in plane of sample
z - normal to sample plane.
the xy plane is equivalent to the sample plane.</p>
<p>TODO: check</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.general.qcrit">
<code class="descclassname">refnx.util.general.</code><code class="descname">qcrit</code><span class="sig-paren">(</span><em>SLD1</em>, <em>SLD2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#qcrit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.general.qcrit" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate critical Q vector given SLD of super and subphases</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>SLD1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – SLD of superphase (10^-6 A^-2)</li>
<li><strong>SLD2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – SLD of subphase (10^-6 A^-2)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>qc</strong> – Critical Q vector for a reflectivity system.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.general.resolution_double_chopper">
<code class="descclassname">refnx.util.general.</code><code class="descname">resolution_double_chopper</code><span class="sig-paren">(</span><em>wavelength</em>, <em>z0=0.358</em>, <em>R=0.35</em>, <em>freq=24</em>, <em>H=0.005</em>, <em>xsi=0</em>, <em>L=7.5</em>, <em>tau_da=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#resolution_double_chopper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.general.resolution_double_chopper" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the fractional resolution of a double chopper pair, dl/l.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>wavelength</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – wavelength in Angstroms</li>
<li><strong>z0</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – distance between chopper pair (m)</li>
<li><strong>R</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – radius of chopper discs (m)</li>
<li><strong>freq</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – rotation frequency of choppers (Hz)</li>
<li><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – number of windows in chopper pair</li>
<li><strong>H</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – height of beam (m)</li>
<li><strong>xsi</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – phase opening of chopper pair (degrees)</li>
<li><strong>L</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Flight length of instrument (m)</li>
<li><strong>tau_da</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Width of timebin (s)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>res</strong> – Fractional wavelength resolution of a double chopper system.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.general.resolution_single_chopper">
<code class="descclassname">refnx.util.general.</code><code class="descname">resolution_single_chopper</code><span class="sig-paren">(</span><em>wavelength</em>, <em>R=0.35</em>, <em>freq=24</em>, <em>H=0.005</em>, <em>phi=60</em>, <em>L=7.5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#resolution_single_chopper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.general.resolution_single_chopper" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the fractional resolution of a single chopper, dl/l.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>wavelength</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – wavelength in Angstroms</li>
<li><strong>R</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – radius of chopper discs (m)</li>
<li><strong>freq</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – rotation frequency of choppers (Hz)</li>
<li><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – number of windows in chopper</li>
<li><strong>H</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – height of beam (m)</li>
<li><strong>phi</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – angular opening of chopper window (degrees)</li>
<li><strong>L</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Flight length of instrument (m)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>transmission</strong> – Transmission of a single chopper system.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.general.slit_optimiser">
<code class="descclassname">refnx.util.general.</code><code class="descname">slit_optimiser</code><span class="sig-paren">(</span><em>footprint</em>, <em>resolution</em>, <em>angle=1.0</em>, <em>L12=2859.5</em>, <em>L2S=180</em>, <em>LS3=290.5</em>, <em>LSD=2500</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#slit_optimiser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.general.slit_optimiser" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimise slit settings for a given angular resolution, and a given
footprint.</p>
<dl class="docutils">
<dt>footprint: float</dt>
<dd>maximum footprint onto sample (mm)</dd>
<dt>resolution: float</dt>
<dd>fractional dtheta/theta resolution (FWHM)</dd>
<dt>angle: float, optional</dt>
<dd>angle of incidence in degrees</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="refnx.util.general.tauC">
<code class="descclassname">refnx.util.general.</code><code class="descname">tauC</code><span class="sig-paren">(</span><em>wavelength</em>, <em>xsi=0</em>, <em>z0=0.358</em>, <em>freq=24</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#tauC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.general.tauC" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the burst time of a double chopper pair</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>wavelength</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – wavelength in Angstroms</li>
<li><strong>z0</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – distance between chopper pair (m)</li>
<li><strong>freq</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – rotation frequency of choppers (Hz)</li>
<li><strong>xsi</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – phase opening of chopper pair (degrees)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>tauC</strong> – The burst time of a double chopper pair (s)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p>[1] A. A. van Well and H. Fredrikze, On the resolution and intensity of a
time-of-flight neutron reflectometer, Physica B 357 (2005) 204-207
[2] A. Nelson and C. Dewhurst, Towards a detailed resolution smearing
kernel for time-of-flight neutron reflectometers, J. Appl. Cryst. (2013)
46, 1338-1343</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.general.transmission_double_chopper">
<code class="descclassname">refnx.util.general.</code><code class="descname">transmission_double_chopper</code><span class="sig-paren">(</span><em>wavelength</em>, <em>z0=0.358</em>, <em>R=0.35</em>, <em>freq=24</em>, <em>N=1</em>, <em>H=0.005</em>, <em>xsi=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#transmission_double_chopper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.general.transmission_double_chopper" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the transmission of a double chopper pair</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>wavelength</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – wavelength in Angstroms</li>
<li><strong>z0</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – distance between chopper pair (m)</li>
<li><strong>R</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – radius of chopper discs (m)</li>
<li><strong>freq</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – rotation frequency of choppers (Hz)</li>
<li><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – number of windows in chopper pair</li>
<li><strong>H</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – height of beam (m)</li>
<li><strong>xsi</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – phase opening of chopper pair (degrees)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>transmission</strong> – The transmission of a double chopper system.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p>[1] A. A. van Well and H. Fredrikze, On the resolution and intensity of a
time-of-flight neutron reflectometer, Physica B 357 (2005) 204-207
[2] A. Nelson and C. Dewhurst, Towards a detailed resolution smearing
kernel for time-of-flight neutron reflectometers, J. Appl. Cryst. (2013)
46, 1338-1343</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.general.transmission_single_chopper">
<code class="descclassname">refnx.util.general.</code><code class="descname">transmission_single_chopper</code><span class="sig-paren">(</span><em>R=0.35</em>, <em>phi=60</em>, <em>N=1</em>, <em>H=0.005</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#transmission_single_chopper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.general.transmission_single_chopper" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the transmission of a single chopper</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>R</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – radius of chopper discs (m)</li>
<li><strong>phi</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – angular opening of chopper disc (degrees)</li>
<li><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – number of windows in chopper pair</li>
<li><strong>H</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – height of beam (m)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p>[1] A. A. van Well and H. Fredrikze, On the resolution and intensity of a
time-of-flight neutron reflectometer, Physica B 357 (2005) 204-207
[2] A. Nelson and C. Dewhurst, Towards a detailed resolution smearing
kernel for time-of-flight neutron reflectometers, J. Appl. Cryst. (2013)
46, 1338-1343</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.general.velocity_wavelength">
<code class="descclassname">refnx.util.general.</code><code class="descname">velocity_wavelength</code><span class="sig-paren">(</span><em>velocity</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#velocity_wavelength"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.general.velocity_wavelength" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts neutron velocity to wavelength</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>velocity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – velocity of neutron in m/s</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>wavelength</strong> – wavelength of neutron in A</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.general.wavelength">
<code class="descclassname">refnx.util.general.</code><code class="descname">wavelength</code><span class="sig-paren">(</span><em>q</em>, <em>angle</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#wavelength"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.general.wavelength" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate wavelength given Q vector and angle</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>q</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Wavevector (A**-1)</li>
<li><strong>angle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – angle of incidence (degrees)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>wavelength</strong> – Wavelength of radiation (A)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.general.wavelength_energy">
<code class="descclassname">refnx.util.general.</code><code class="descname">wavelength_energy</code><span class="sig-paren">(</span><em>wavelength</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#wavelength_energy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.general.wavelength_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts wavelength to energy in meV</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>wavelength</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Wavelength in Angstrom.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>energy</strong> – Energy in meV.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.general.wavelength_velocity">
<code class="descclassname">refnx.util.general.</code><code class="descname">wavelength_velocity</code><span class="sig-paren">(</span><em>wavelength</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#wavelength_velocity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.general.wavelength_velocity" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts wavelength to neutron velocity</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>wavelength</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – wavelength of neutron in Angstrom.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>velocity</strong> – velocity of neutron in ms**-1</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.general.xray_energy">
<code class="descclassname">refnx.util.general.</code><code class="descname">xray_energy</code><span class="sig-paren">(</span><em>wavelength</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#xray_energy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.general.xray_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>convert energy (keV) to wavelength (angstrom)</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.general.xray_wavelength">
<code class="descclassname">refnx.util.general.</code><code class="descname">xray_wavelength</code><span class="sig-paren">(</span><em>energy</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#xray_wavelength"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.general.xray_wavelength" title="Permalink to this definition">¶</a></dt>
<dd><p>convert energy (keV) to wavelength (angstrom)</p>
</dd></dl>

</div>
<div class="section" id="module-refnx.util.nsplice">
<span id="refnx-util-nsplice-module"></span><h2>refnx.util.nsplice module<a class="headerlink" href="#module-refnx.util.nsplice" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="refnx.util.nsplice.get_scaling_in_overlap">
<code class="descclassname">refnx.util.nsplice.</code><code class="descname">get_scaling_in_overlap</code><span class="sig-paren">(</span><em>x0</em>, <em>y0</em>, <em>dy0</em>, <em>x1</em>, <em>y1</em>, <em>dy1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/nsplice.html#get_scaling_in_overlap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.nsplice.get_scaling_in_overlap" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain vertical scaling factor that splices the second dataset onto the
first.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x0</strong> (<em>np.ndarray</em>) – abscissae for the first dataset</li>
<li><strong>y0</strong> (<em>np.ndarray</em>) – y values for the first dataset</li>
<li><strong>dy0</strong> (<em>np.ndarray</em>) – dy (standard deviation) values for the first dataset</li>
<li><strong>x1</strong> (<em>np.ndarray</em>) – abscissae values for the second dataset</li>
<li><strong>y1</strong> (<em>np.ndarray</em>) – y values for the second dataset</li>
<li><strong>dy1</strong> (<em>np.ndarray</em>) – dy (standard deviation) values for the second dataset</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>(scale, dscale, overlap_points)</strong> – <cite>scale</cite> and <cite>dscale</cite> are the scaling and uncertainty in scaling factor.
They are <cite>np.nan</cite> if the abscissae ranges don’t overlap.
<cite>overlap_points</cite> indicates the points in the <em>first</em> dataset that are
in the overlap region.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a>, array-like</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-refnx.util.quickplot">
<span id="refnx-util-quickplot-module"></span><h2>refnx.util.quickplot module<a class="headerlink" href="#module-refnx.util.quickplot" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="refnx.util.quickplot.ref_plot">
<code class="descclassname">refnx.util.quickplot.</code><code class="descname">ref_plot</code><span class="sig-paren">(</span><em>datasets</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/quickplot.html#ref_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.quickplot.ref_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Quickly plot a lot of datasets</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>datasets</strong> (<em>iterable</em>) – strings or files identifying the datasets to plot</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>fig</strong> – The figure. Use fig.show() to display</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://matplotlib.org/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" title="(in Matplotlib v2.1.0)">matplotlib.figure.Figure</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-refnx.util">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-refnx.util" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="refnx.util.EPadd">
<code class="descclassname">refnx.util.</code><code class="descname">EPadd</code><span class="sig-paren">(</span><em>a</em>, <em>da</em>, <em>b</em>, <em>db</em>, <em>covar=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPadd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.EPadd" title="Permalink to this definition">¶</a></dt>
<dd><p>C = A + B</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.EPcos">
<code class="descclassname">refnx.util.</code><code class="descname">EPcos</code><span class="sig-paren">(</span><em>a</em>, <em>da</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPcos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.EPcos" title="Permalink to this definition">¶</a></dt>
<dd><p>C = cos (A)</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.EPdiv">
<code class="descclassname">refnx.util.</code><code class="descname">EPdiv</code><span class="sig-paren">(</span><em>a</em>, <em>da</em>, <em>b</em>, <em>db</em>, <em>covar=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPdiv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.EPdiv" title="Permalink to this definition">¶</a></dt>
<dd><p>C = A / B</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.EPexp">
<code class="descclassname">refnx.util.</code><code class="descname">EPexp</code><span class="sig-paren">(</span><em>a</em>, <em>da</em>, <em>k=1</em>, <em>n=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPexp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.EPexp" title="Permalink to this definition">¶</a></dt>
<dd><p>C = n * exp(k * A)</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.EPlog">
<code class="descclassname">refnx.util.</code><code class="descname">EPlog</code><span class="sig-paren">(</span><em>a</em>, <em>da</em>, <em>k=1</em>, <em>n=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPlog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.EPlog" title="Permalink to this definition">¶</a></dt>
<dd><p>C = n * log(k * A )</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.EPlog10">
<code class="descclassname">refnx.util.</code><code class="descname">EPlog10</code><span class="sig-paren">(</span><em>a</em>, <em>da</em>, <em>k=1</em>, <em>n=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPlog10"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.EPlog10" title="Permalink to this definition">¶</a></dt>
<dd><p>C = n * log10(k * A)</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.EPmul">
<code class="descclassname">refnx.util.</code><code class="descname">EPmul</code><span class="sig-paren">(</span><em>a</em>, <em>da</em>, <em>b</em>, <em>db</em>, <em>covar=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPmul"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.EPmul" title="Permalink to this definition">¶</a></dt>
<dd><p>C = A * B</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.EPmulk">
<code class="descclassname">refnx.util.</code><code class="descname">EPmulk</code><span class="sig-paren">(</span><em>a</em>, <em>da</em>, <em>k</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPmulk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.EPmulk" title="Permalink to this definition">¶</a></dt>
<dd><p>C = A * k</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.EPpow">
<code class="descclassname">refnx.util.</code><code class="descname">EPpow</code><span class="sig-paren">(</span><em>a</em>, <em>da</em>, <em>b</em>, <em>db</em>, <em>covar=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPpow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.EPpow" title="Permalink to this definition">¶</a></dt>
<dd><p>C = A ** B</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.EPpowk">
<code class="descclassname">refnx.util.</code><code class="descname">EPpowk</code><span class="sig-paren">(</span><em>a</em>, <em>da</em>, <em>k</em>, <em>n=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPpowk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.EPpowk" title="Permalink to this definition">¶</a></dt>
<dd><p>C = pow(k, A * n)</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.EPsin">
<code class="descclassname">refnx.util.</code><code class="descname">EPsin</code><span class="sig-paren">(</span><em>a</em>, <em>da</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPsin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.EPsin" title="Permalink to this definition">¶</a></dt>
<dd><p>C = sin (A)</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.EPsub">
<code class="descclassname">refnx.util.</code><code class="descname">EPsub</code><span class="sig-paren">(</span><em>a</em>, <em>da</em>, <em>b</em>, <em>db</em>, <em>covar=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPsub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.EPsub" title="Permalink to this definition">¶</a></dt>
<dd><p>C = A - B</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.EPtan">
<code class="descclassname">refnx.util.</code><code class="descname">EPtan</code><span class="sig-paren">(</span><em>a</em>, <em>da</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/ErrorProp.html#EPtan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.EPtan" title="Permalink to this definition">¶</a></dt>
<dd><p>C = tan (A)</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.actual_footprint">
<code class="descclassname">refnx.util.</code><code class="descname">actual_footprint</code><span class="sig-paren">(</span><em>d1</em>, <em>d2</em>, <em>L12</em>, <em>L2S</em>, <em>angle</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#actual_footprint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.actual_footprint" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the actual footprint on a reflectivity sample.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>d1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – opening of first collimation slit</li>
<li><strong>d2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – opening of second collimation slit</li>
<li><strong>L12</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – distance between first and second collimation slits</li>
<li><strong>L2S</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – distance from second collimation slit to sample</li>
<li><strong>angle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – angle of incidence of sample (degrees)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>(umbra_footprint, penumbra_footprint)</strong> – Footprint of the umbra and penumbra</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.angle">
<code class="descclassname">refnx.util.</code><code class="descname">angle</code><span class="sig-paren">(</span><em>q</em>, <em>wavelength</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#angle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.angle" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate angle given Q and wavelength</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>q</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Wavevector (A**-1)</li>
<li><strong>wavelength</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Wavelength of radiation (A)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>angle</strong> – angle of incidence (degrees)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.beamfrac">
<code class="descclassname">refnx.util.</code><code class="descname">beamfrac</code><span class="sig-paren">(</span><em>FWHM</em>, <em>length</em>, <em>angle</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#beamfrac"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.beamfrac" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the beam fraction intercepted by a sample.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>FWHM</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The FWHM of the beam height</li>
<li><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Length of the sample in mm</li>
<li><strong>angle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Angle that the sample makes w.r.t the beam (degrees)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>beamfrac</strong> – The fraction of the beam that intercepts the sample</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.beamfrackernel">
<code class="descclassname">refnx.util.</code><code class="descname">beamfrackernel</code><span class="sig-paren">(</span><em>kernelx</em>, <em>kernely</em>, <em>length</em>, <em>angle</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#beamfrackernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.beamfrackernel" title="Permalink to this definition">¶</a></dt>
<dd><p>The beam fraction intercepted by a sample, used for calculating footprints.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>kernelx</strong> (<em>array-like</em>) – x axis for the probability kernel</li>
<li><strong>kernely</strong> (<em>array-like</em>) – probability kernel describing the intensity distribution of the beam</li>
<li><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – length of the sample</li>
<li><strong>angle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – angle of incidence (degrees)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fraction</strong> – The fraction of the beam intercepted by a sample.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.div">
<code class="descclassname">refnx.util.</code><code class="descname">div</code><span class="sig-paren">(</span><em>d1</em>, <em>d2</em>, <em>L12=2859</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#div"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.div" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the angular resolution for a set of collimation conditions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>d1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – slit 1 opening</li>
<li><strong>d2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – slit 2 opening</li>
<li><strong>L12</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – distance between slits</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>dtheta, alpha, beta</em> – dtheta is the FWHM of the Gaussian approximation to the trapezoidal
resolution function
alpha is the angular divergence of the penumbra
beta is the angular divergence of the umbra</li>
<li><em>When calculating dtheta / theta values for resolution, then dtheta is the</em></li>
<li><em>value you need to use.</em></li>
<li><em>See equations 11-14 in [1]_.</em></li>
<li><em>.. [1] de Haan, V.-O.; de Blois, J.; van der Ende, P.; Fredrikze, H.;</em></li>
<li><em>van der Graaf, A.; Schipper, M.; van Well, A. A. &amp; J., v. d. Z. ROG, the</em></li>
<li><em>neutron reflectometer at IRI Delft Nuclear Instruments and Methods in</em></li>
<li><em>Physics Research A, 1995, 362, 434-453</em></li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.double_chopper_frequency">
<code class="descclassname">refnx.util.</code><code class="descname">double_chopper_frequency</code><span class="sig-paren">(</span><em>min_wavelength</em>, <em>max_wavelength</em>, <em>L</em>, <em>N=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#double_chopper_frequency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.double_chopper_frequency" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the maximum frequency available for a given wavelength band
without getting frame overlap in a chopper spectrometer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>min_wavelength</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – minimum wavelength to be used</li>
<li><strong>max_wavelength</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – maximum wavelength to be used</li>
<li><strong>L</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Flight length of instrument (m)</li>
<li><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – number of windows in chopper pair</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>max_freq</strong> – The maximum frequency a double chopper system can use to avoid frame
overlap.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.energy_wavelength">
<code class="descclassname">refnx.util.</code><code class="descname">energy_wavelength</code><span class="sig-paren">(</span><em>energy</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#energy_wavelength"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.energy_wavelength" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts wavelength to energy in meV</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>energy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Energy in meV.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>wavelength</strong> – Wavelength in Angstrom.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.get_scaling_in_overlap">
<code class="descclassname">refnx.util.</code><code class="descname">get_scaling_in_overlap</code><span class="sig-paren">(</span><em>x0</em>, <em>y0</em>, <em>dy0</em>, <em>x1</em>, <em>y1</em>, <em>dy1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/nsplice.html#get_scaling_in_overlap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.get_scaling_in_overlap" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain vertical scaling factor that splices the second dataset onto the
first.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x0</strong> (<em>np.ndarray</em>) – abscissae for the first dataset</li>
<li><strong>y0</strong> (<em>np.ndarray</em>) – y values for the first dataset</li>
<li><strong>dy0</strong> (<em>np.ndarray</em>) – dy (standard deviation) values for the first dataset</li>
<li><strong>x1</strong> (<em>np.ndarray</em>) – abscissae values for the second dataset</li>
<li><strong>y1</strong> (<em>np.ndarray</em>) – y values for the second dataset</li>
<li><strong>dy1</strong> (<em>np.ndarray</em>) – dy (standard deviation) values for the second dataset</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>(scale, dscale, overlap_points)</strong> – <cite>scale</cite> and <cite>dscale</cite> are the scaling and uncertainty in scaling factor.
They are <cite>np.nan</cite> if the abscissae ranges don’t overlap.
<cite>overlap_points</cite> indicates the points in the <em>first</em> dataset that are
in the overlap region.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a>, array-like</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.height_of_beam_after_dx">
<code class="descclassname">refnx.util.</code><code class="descname">height_of_beam_after_dx</code><span class="sig-paren">(</span><em>d1</em>, <em>d2</em>, <em>L12</em>, <em>distance</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#height_of_beam_after_dx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.height_of_beam_after_dx" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the widths of beam a given distance away from a collimation slit.</p>
<p>if distance &gt;= 0, then it’s taken to be the distance after d2.
if distance &lt; 0, then it’s taken to be the distance before d1.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>d1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – opening of first collimation slit</li>
<li><strong>d2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – opening of second collimation slit</li>
<li><strong>L12</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – distance between first and second collimation slits</li>
<li><strong>distance</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – distance from first or last slit to a given position</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Units - equivalent distances (inches, mm, light years)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>(umbra, penumbra)</strong> – height of umbra and penumbra</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.penetration_depth">
<code class="descclassname">refnx.util.</code><code class="descname">penetration_depth</code><span class="sig-paren">(</span><em>qq</em>, <em>rho</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#penetration_depth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.penetration_depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the penetration depth of a neutron/xray beam</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>qq</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Q values to calculate the penetration depth at</li>
<li><strong>rho</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.6)"><em>complex</em></a>) – Complex SLD of material</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>penetration_depth</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.q">
<code class="descclassname">refnx.util.</code><code class="descname">q</code><span class="sig-paren">(</span><em>angle</em>, <em>wavelength</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#q"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.q" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate Q given angle of incidence and wavelength</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>angle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – angle of incidence (degrees)</li>
<li><strong>wavelength</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – wavelength of radiation (Angstrom)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>Q</strong> – Momentum transfer (A**-1)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.q2">
<code class="descclassname">refnx.util.</code><code class="descname">q2</code><span class="sig-paren">(</span><em>omega</em>, <em>twotheta</em>, <em>phi</em>, <em>wavelength</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#q2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.q2" title="Permalink to this definition">¶</a></dt>
<dd><p>convert angles and wavelength (lambda) to Q vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>omega</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – angle of incidence of beam (in xy plane)</li>
<li><strong>twotheta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – angle between direct beam and projected reflected beam onto yz plane</li>
<li><strong>phi</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – angle between reflected beam and yz plane.</li>
<li><strong>wavelength</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>Qx, Qy, Qz</strong> – Momentum transfer in A**-1.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>coordinate system:
y - along beam direction (in small angle approximation)
x - transverse to beam direction, in plane of sample
z - normal to sample plane.
the xy plane is equivalent to the sample plane.</p>
<p>TODO: check</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.qcrit">
<code class="descclassname">refnx.util.</code><code class="descname">qcrit</code><span class="sig-paren">(</span><em>SLD1</em>, <em>SLD2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#qcrit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.qcrit" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate critical Q vector given SLD of super and subphases</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>SLD1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – SLD of superphase (10^-6 A^-2)</li>
<li><strong>SLD2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – SLD of subphase (10^-6 A^-2)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>qc</strong> – Critical Q vector for a reflectivity system.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.resolution_double_chopper">
<code class="descclassname">refnx.util.</code><code class="descname">resolution_double_chopper</code><span class="sig-paren">(</span><em>wavelength</em>, <em>z0=0.358</em>, <em>R=0.35</em>, <em>freq=24</em>, <em>H=0.005</em>, <em>xsi=0</em>, <em>L=7.5</em>, <em>tau_da=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#resolution_double_chopper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.resolution_double_chopper" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the fractional resolution of a double chopper pair, dl/l.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>wavelength</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – wavelength in Angstroms</li>
<li><strong>z0</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – distance between chopper pair (m)</li>
<li><strong>R</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – radius of chopper discs (m)</li>
<li><strong>freq</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – rotation frequency of choppers (Hz)</li>
<li><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – number of windows in chopper pair</li>
<li><strong>H</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – height of beam (m)</li>
<li><strong>xsi</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – phase opening of chopper pair (degrees)</li>
<li><strong>L</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Flight length of instrument (m)</li>
<li><strong>tau_da</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Width of timebin (s)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>res</strong> – Fractional wavelength resolution of a double chopper system.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.resolution_single_chopper">
<code class="descclassname">refnx.util.</code><code class="descname">resolution_single_chopper</code><span class="sig-paren">(</span><em>wavelength</em>, <em>R=0.35</em>, <em>freq=24</em>, <em>H=0.005</em>, <em>phi=60</em>, <em>L=7.5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#resolution_single_chopper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.resolution_single_chopper" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the fractional resolution of a single chopper, dl/l.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>wavelength</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – wavelength in Angstroms</li>
<li><strong>R</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – radius of chopper discs (m)</li>
<li><strong>freq</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – rotation frequency of choppers (Hz)</li>
<li><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – number of windows in chopper</li>
<li><strong>H</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – height of beam (m)</li>
<li><strong>phi</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – angular opening of chopper window (degrees)</li>
<li><strong>L</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Flight length of instrument (m)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>transmission</strong> – Transmission of a single chopper system.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.slit_optimiser">
<code class="descclassname">refnx.util.</code><code class="descname">slit_optimiser</code><span class="sig-paren">(</span><em>footprint</em>, <em>resolution</em>, <em>angle=1.0</em>, <em>L12=2859.5</em>, <em>L2S=180</em>, <em>LS3=290.5</em>, <em>LSD=2500</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#slit_optimiser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.slit_optimiser" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimise slit settings for a given angular resolution, and a given
footprint.</p>
<dl class="docutils">
<dt>footprint: float</dt>
<dd>maximum footprint onto sample (mm)</dd>
<dt>resolution: float</dt>
<dd>fractional dtheta/theta resolution (FWHM)</dd>
<dt>angle: float, optional</dt>
<dd>angle of incidence in degrees</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="refnx.util.tauC">
<code class="descclassname">refnx.util.</code><code class="descname">tauC</code><span class="sig-paren">(</span><em>wavelength</em>, <em>xsi=0</em>, <em>z0=0.358</em>, <em>freq=24</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#tauC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.tauC" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the burst time of a double chopper pair</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>wavelength</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – wavelength in Angstroms</li>
<li><strong>z0</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – distance between chopper pair (m)</li>
<li><strong>freq</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – rotation frequency of choppers (Hz)</li>
<li><strong>xsi</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – phase opening of chopper pair (degrees)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>tauC</strong> – The burst time of a double chopper pair (s)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p>[1] A. A. van Well and H. Fredrikze, On the resolution and intensity of a
time-of-flight neutron reflectometer, Physica B 357 (2005) 204-207
[2] A. Nelson and C. Dewhurst, Towards a detailed resolution smearing
kernel for time-of-flight neutron reflectometers, J. Appl. Cryst. (2013)
46, 1338-1343</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.transmission_double_chopper">
<code class="descclassname">refnx.util.</code><code class="descname">transmission_double_chopper</code><span class="sig-paren">(</span><em>wavelength</em>, <em>z0=0.358</em>, <em>R=0.35</em>, <em>freq=24</em>, <em>N=1</em>, <em>H=0.005</em>, <em>xsi=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#transmission_double_chopper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.transmission_double_chopper" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the transmission of a double chopper pair</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>wavelength</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – wavelength in Angstroms</li>
<li><strong>z0</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – distance between chopper pair (m)</li>
<li><strong>R</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – radius of chopper discs (m)</li>
<li><strong>freq</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – rotation frequency of choppers (Hz)</li>
<li><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – number of windows in chopper pair</li>
<li><strong>H</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – height of beam (m)</li>
<li><strong>xsi</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – phase opening of chopper pair (degrees)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>transmission</strong> – The transmission of a double chopper system.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p>[1] A. A. van Well and H. Fredrikze, On the resolution and intensity of a
time-of-flight neutron reflectometer, Physica B 357 (2005) 204-207
[2] A. Nelson and C. Dewhurst, Towards a detailed resolution smearing
kernel for time-of-flight neutron reflectometers, J. Appl. Cryst. (2013)
46, 1338-1343</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.transmission_single_chopper">
<code class="descclassname">refnx.util.</code><code class="descname">transmission_single_chopper</code><span class="sig-paren">(</span><em>R=0.35</em>, <em>phi=60</em>, <em>N=1</em>, <em>H=0.005</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#transmission_single_chopper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.transmission_single_chopper" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the transmission of a single chopper</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>R</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – radius of chopper discs (m)</li>
<li><strong>phi</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – angular opening of chopper disc (degrees)</li>
<li><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – number of windows in chopper pair</li>
<li><strong>H</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – height of beam (m)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p>[1] A. A. van Well and H. Fredrikze, On the resolution and intensity of a
time-of-flight neutron reflectometer, Physica B 357 (2005) 204-207
[2] A. Nelson and C. Dewhurst, Towards a detailed resolution smearing
kernel for time-of-flight neutron reflectometers, J. Appl. Cryst. (2013)
46, 1338-1343</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.velocity_wavelength">
<code class="descclassname">refnx.util.</code><code class="descname">velocity_wavelength</code><span class="sig-paren">(</span><em>velocity</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#velocity_wavelength"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.velocity_wavelength" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts neutron velocity to wavelength</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>velocity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – velocity of neutron in m/s</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>wavelength</strong> – wavelength of neutron in A</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.wavelength">
<code class="descclassname">refnx.util.</code><code class="descname">wavelength</code><span class="sig-paren">(</span><em>q</em>, <em>angle</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#wavelength"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.wavelength" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate wavelength given Q vector and angle</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>q</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Wavevector (A**-1)</li>
<li><strong>angle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – angle of incidence (degrees)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>wavelength</strong> – Wavelength of radiation (A)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.wavelength_energy">
<code class="descclassname">refnx.util.</code><code class="descname">wavelength_energy</code><span class="sig-paren">(</span><em>wavelength</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#wavelength_energy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.wavelength_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts wavelength to energy in meV</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>wavelength</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Wavelength in Angstrom.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>energy</strong> – Energy in meV.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.wavelength_velocity">
<code class="descclassname">refnx.util.</code><code class="descname">wavelength_velocity</code><span class="sig-paren">(</span><em>wavelength</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#wavelength_velocity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.wavelength_velocity" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts wavelength to neutron velocity</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>wavelength</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – wavelength of neutron in Angstrom.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>velocity</strong> – velocity of neutron in ms**-1</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)">float</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="refnx.util.xray_energy">
<code class="descclassname">refnx.util.</code><code class="descname">xray_energy</code><span class="sig-paren">(</span><em>wavelength</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#xray_energy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.xray_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>convert energy (keV) to wavelength (angstrom)</p>
</dd></dl>

<dl class="function">
<dt id="refnx.util.xray_wavelength">
<code class="descclassname">refnx.util.</code><code class="descname">xray_wavelength</code><span class="sig-paren">(</span><em>energy</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refnx/util/general.html#xray_wavelength"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#refnx.util.xray_wavelength" title="Permalink to this definition">¶</a></dt>
<dd><p>convert energy (keV) to wavelength (angstrom)</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">refnx.util package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-refnx.util.ErrorProp">refnx.util.ErrorProp module</a></li>
<li><a class="reference internal" href="#module-refnx.util.general">refnx.util.general module</a></li>
<li><a class="reference internal" href="#module-refnx.util.nsplice">refnx.util.nsplice module</a></li>
<li><a class="reference internal" href="#module-refnx.util.quickplot">refnx.util.quickplot module</a></li>
<li><a class="reference internal" href="#module-refnx.util">Module contents</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/refnx.util.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015-2017, Andrew Nelson.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/refnx.util.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>